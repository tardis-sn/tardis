

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-53HJHD1BWS"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-53HJHD1BWS');
    </script>
    
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Models &mdash; tardis</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/plot_directive.css" />

  
    <link rel="shortcut icon" href="../../../../_static/tardis_logo.ico"/>
      <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../../_static/documentation_options.js?v=0c5691da"></script>
      <script src="../../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
      <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@1.0.13/dist/embed-amd.min.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Using a custom density profile" href="densitycust/densitycust.html" />
    <link rel="prev" title="Plasma Configuration" href="../plasma.html" />
    <link href="../../../../_static/tardis.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            tardis
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../getting_started/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../quickstart.html">Quickstart for TARDIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../resources/credits.html">Credits &amp; Publication Policies</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../tutorials/high_energy/run_high_energy_workflow.html">TARDIS High Energy Workflow Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../analyzing_tardis/visualization/tutorial_montecarlo_packet_visualization.html">Montecarlo Packet Visualization</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">How-to Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../how_to_guides.html">How-To Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../workflows.html">Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../analyzing_tardis/index.html">Analyszing TARDIS Simulation Outputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial_read_configuration.html">Reading a Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../optional/index.html">Optional Inputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../output/index.html">Additional Outputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../how-to/code_comparison/index.html">How to do Code Comparison using TARDIS</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Physics Walkthrough</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../physics_walkthrough/intro/index.html">Physics Walkthrough Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../physics_walkthrough/setup/index.html">Setting Up the Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../physics_walkthrough/montecarlo/index.html">Monte Carlo Iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../physics_walkthrough/update_and_conv/update_and_conv.html">Updating Plasma and Convergence</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../physics_walkthrough/spectrum/index.html">Spectrum Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../physics_walkthrough/tardisgamma/index.html">TARDIS-High Energy</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../api/modules.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../reference/faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../reference/visualization_reference.html">Visualization Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Configuration Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html#configuration-documentation">Configuration Documentation</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">Configuration Components</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../supernova.html">Supernova Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../atomic/atomic_data.html">Atomic Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plasma.html">Plasma Configuration</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="../montecarlo.html">Monte Carlo Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../spectrum.html">Spectrum Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../debug.html">Debug Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../example.html">TARDIS Example Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config_validator.html">Configuration Validator</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../hdf/index.html">Hierarchical Data Format (HDF5) Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contributing/CHANGELOG.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../resources/research_done_using_TARDIS/research_papers.html">Papers Using TARDIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../resources/zreferences.html">Bibliography and Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing to TARDIS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../contributing/CONTRIBUTING.html">Contribution Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contributing/development/index.html">Developer Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contributing/tools/index.html">Developer Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contributing/in_progress/index.html">Features In-Progress</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">tardis</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Configuration Reference</a></li>
          <li class="breadcrumb-item"><a href="../index.html">Configuration Components</a></li>
      <li class="breadcrumb-item active">Models</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/io/configuration/components/models/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="models">
<span id="model-csvy-and-config"></span><h1>Models<a class="headerlink" href="#models" title="Link to this heading">¶</a></h1>
<p>TARDIS requires a model of the ejecta in order to run a simulation. A model typically includes information
for the velocity shell structure, density, and abundances. <strong>See</strong> <a class="reference internal" href="../../../../physics_walkthrough/setup/model.html"><span class="doc">Model</span></a> <strong>for more information on the
TARDIS model</strong>. TARDIS offers two ways of specifying the model: either directly in the configuration YAML file
or separately in a CSVY file. See <a class="reference external" href="https://csvy.org/">here</a> for an explanation of the CSVY file format.</p>
<p>TARDIS has several built-in models for the shell structure, density, and abundance. If only these are being used,
we recommend using the YAML configuration method. For creating a custom model (which will be discussed below), we
recommend using the CSVY method.</p>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#model-configuration" id="id6">Model Configuration</a></p>
<ul>
<li><p><a class="reference internal" href="#custom-model-configurations" id="id7">Custom Model Configurations</a></p>
<ul>
<li><p><a class="reference internal" href="#file-structure" id="id8">File Structure</a></p></li>
<li><p><a class="reference internal" href="#file-abundance" id="id9">File Abundance</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#custom-model-tutorial" id="id10">Custom Model Tutorial</a></p></li>
<li><p><a class="reference internal" href="#model-converters" id="id11">Model Converters</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#built-in-structure-density-and-abundance" id="id12">Built-in Structure, Density, and Abundance</a></p>
<ul>
<li><p><a class="reference internal" href="#structure" id="id13">Structure</a></p>
<ul>
<li><p><a class="reference internal" href="#specific-structure" id="id14">Specific Structure</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#density" id="id15">Density</a></p>
<ul>
<li><p><a class="reference internal" href="#branch85-w7-density" id="id16">Branch85_w7 Density</a></p></li>
<li><p><a class="reference internal" href="#exponential-density" id="id17">Exponential Density</a></p></li>
<li><p><a class="reference internal" href="#power-law-density" id="id18">Power_law Density</a></p></li>
<li><p><a class="reference internal" href="#uniform-density" id="id19">Uniform Density</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#abundance" id="id20">Abundance</a></p>
<ul>
<li><p><a class="reference internal" href="#uniform-abundance" id="id21">Uniform Abundance</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#csvy-model" id="id22">CSVY Model</a></p>
<ul>
<li><p><a class="reference internal" href="#csvy-model-tutorial" id="id23">CSVY Model Tutorial</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="model-configuration">
<span id="model-config"></span><h2><a class="toc-backref" href="#id6" role="doc-backlink">Model Configuration</a><a class="headerlink" href="#model-configuration" title="Link to this heading">¶</a></h2>
<p>The following schema shows how the model section of the YAML configuration is set up:</p>
<table class="docutils align-default" id="model-yml">
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>structure</p></li>
</ul>
</td>
<td rowspan="2"><p>oneOf</p></td>
<td><p><a class="reference internal" href="#specific-structure"><span class="std std-ref">Specific Structure</span></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#file-structure"><span class="std std-ref">File Structure</span></a></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>abundances</p></li>
</ul>
</td>
<td rowspan="2"><p>oneOf</p></td>
<td><p><a class="reference internal" href="#file-abundance"><span class="std std-ref">File Abundance</span></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#uniform-abundance"><span class="std std-ref">Uniform Abundance</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>additionalProperties</p></td>
<td colspan="2"><p>False</p></td>
</tr>
</tbody>
</table>
<p>Several examples are shown in the following sections; additionally, see <a class="reference internal" href="../../example.html#tardis-example"><span class="std std-ref">TARDIS Example Configuration</span></a> to see
an example model configuration section within the full TARDIS configuration. This configuration allows
for both built-in structures and abundances, which will be described in later sections, as well as custom
models for the shell structure and abundances. For the latter, while we recommend using the CSVY model,
one can specify custom structures and abundances using other files.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If using a custom shell structure, you must also use a custom density profile (and vice versa), as
they are recorded in the same file (see below). Therefore, if you wish to use a built-in shell
structure you must also use a built-in density profile, and vice versa.</p>
</div>
<section id="custom-model-configurations">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Custom Model Configurations</a><a class="headerlink" href="#custom-model-configurations" title="Link to this heading">¶</a></h3>
<p>The following two sections demonstrate how to specify custom structures and abundances in the
model configuration.</p>
<section id="file-structure">
<span id="file-structure"></span><h4><a class="toc-backref" href="#id8" role="doc-backlink">File Structure</a><a class="headerlink" href="#file-structure" title="Link to this heading">¶</a></h4>
<p>One can use a file referenced in the model configuration to create a custom structure model and density profile.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>type</p></li>
</ul>
</td>
<td><p>enum</p></td>
<td><p>file</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p><strong>filename</strong></p></li>
</ul>
</td>
<td colspan="2"><p>file name (with path) to structure model</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>string</em></p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p><strong>filetype</strong></p></li>
</ul>
</td>
<td colspan="2"><p>file type</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>string</em></p></td>
</tr>
<tr class="row-even"><td><p>enum</p></td>
<td><p>simple_ascii, artis, cmfgen_model</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p>v_inner_boundary</p></li>
</ul>
</td>
<td colspan="2"><p>location of the inner boundary chosen from the model</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-odd"><td><p>default</p></td>
<td><p>-1 km/s</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p>v_outer_boundary</p></li>
</ul>
</td>
<td colspan="2"><p>location of the inner boundary chosen from the model</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td><p>-1 km/s</p></td>
</tr>
<tr class="row-odd"><td><p>additionalProperties</p></td>
<td colspan="2"><p>False</p></td>
</tr>
</tbody>
</table>
</section>
<p>For example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">model</span><span class="p">:</span>
<span class="w">    </span><span class="nt">structure</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">file</span>
<span class="w">        </span><span class="nt">filename</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">density.dat</span>
<span class="w">        </span><span class="nt">filetype</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">simple_ascii</span>
<span class="w">        </span><span class="nt">v_inner_boundary</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">11000 km/s</span>
<span class="w">        </span><span class="nt">v_outer_boundary</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20000 km/s</span>
</pre></div>
</div>
<p>In this example, our configuration references a file named <code class="docutils literal notranslate"><span class="pre">density.dat</span></code>. For more information on what this file
would entail, see:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="densitycust/densitycust.html">Using a custom density profile</a></li>
</ul>
</div>
<section id="file-abundance">
<span id="file-abundance"></span><h4><a class="toc-backref" href="#id9" role="doc-backlink">File Abundance</a><a class="headerlink" href="#file-abundance" title="Link to this heading">¶</a></h4>
<p>One can use a file referenced in the model configuration to create a custom elemental abundances.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>type</p></li>
</ul>
</td>
<td><p>enum</p></td>
<td><p>file</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p><strong>filetype</strong></p></li>
</ul>
</td>
<td colspan="2"><p>type of abundance file to read in</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>string</em></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p><strong>filename</strong></p></li>
</ul>
</td>
<td colspan="2"><p>filename</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>string</em></p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p>model_isotope_time_0</p></li>
</ul>
</td>
<td colspan="2"><p>Initial time for isotope decay. If nan is specified then this is set to time_explosion and the isotope abundances are not decayed. If set to a value then the abundances are decayed from model_isotope_time_0 to time_explosion.</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td><p>nan s</p></td>
</tr>
<tr class="row-odd"><td><p>additionalProperties</p></td>
<td colspan="2"><p>False</p></td>
</tr>
</tbody>
</table>
</section>
<p>For example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">model</span><span class="p">:</span>
<span class="w">    </span>
<span class="w">    </span><span class="nt">abundances</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">file</span>
<span class="w">        </span><span class="nt">filename</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">abund.dat</span>
<span class="w">        </span><span class="nt">filetype</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">simple_ascii</span>
</pre></div>
</div>
<p>In this example, our configuration references a file named <code class="docutils literal notranslate"><span class="pre">abund.dat</span></code>. For more information on what this file
would entail, see:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="abundancecust/abundancecust.html">Using a custom stratified composition</a></li>
</ul>
</div>
</section>
<section id="custom-model-tutorial">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Custom Model Tutorial</a><a class="headerlink" href="#custom-model-tutorial" title="Link to this heading">¶</a></h3>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="Custom_TARDIS_Model_Tutorial.html">How to run TARDIS with a custom ejecta model</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Custom_TARDIS_Model_Tutorial.html#Your-custom-density-file">Your custom density file</a></li>
<li class="toctree-l2"><a class="reference internal" href="Custom_TARDIS_Model_Tutorial.html#Your-custom-abundance-file">Your custom abundance file</a></li>
<li class="toctree-l2"><a class="reference internal" href="Custom_TARDIS_Model_Tutorial.html#Running-TARDIS-with-the-custom-files">Running TARDIS with the custom files</a></li>
<li class="toctree-l2"><a class="reference internal" href="Custom_TARDIS_Model_Tutorial.html#Specifying-boundary-velocities-in-the-config-file">Specifying boundary velocities in the config file</a></li>
<li class="toctree-l2"><a class="reference internal" href="Custom_TARDIS_Model_Tutorial.html#Example-1)-v_inner_boundary-lower-than-first-velocity-in-density-file">Example 1) v_inner_boundary lower than first velocity in density file</a></li>
<li class="toctree-l2"><a class="reference internal" href="Custom_TARDIS_Model_Tutorial.html#Example-2)-v_outer_boundary-larger-than-last-velocity-in-density-file">Example 2) v_outer_boundary larger than last velocity in density file</a></li>
<li class="toctree-l2"><a class="reference internal" href="Custom_TARDIS_Model_Tutorial.html#Example-3)-v_boundaries-in-config-file-are-within-density-file-velocity-range">Example 3) v_boundaries in config file are within density file velocity range</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="model-converters">
<span id="converters"></span><h3><a class="toc-backref" href="#id11" role="doc-backlink">Model Converters</a><a class="headerlink" href="#model-converters" title="Link to this heading">¶</a></h3>
<p>There are a variety of formats for models from other codes
(both hydro and radiative transfer) that can be converted to TARDIS input files.
Here we aim to provide converters for the most commonly used file formats.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="converters/cmfgen.html">Convert CMFGEN files to TARDIS file format</a></li>
<li class="toctree-l1"><a class="reference internal" href="converters/arepo_to_tardis.html">Converting Arepo snapshots to be usable by TARDIS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="converters/arepo_to_tardis.html#What-is-Arepo?">What is Arepo?</a></li>
<li class="toctree-l2"><a class="reference internal" href="converters/arepo_to_tardis.html#Loading-the-simulation-data">Loading the simulation data</a></li>
<li class="toctree-l2"><a class="reference internal" href="converters/arepo_to_tardis.html#Extracting-a-profile-and-converting-it-to-a-csvy-file">Extracting a profile and converting it to a csvy file</a></li>
<li class="toctree-l2"><a class="reference internal" href="converters/arepo_to_tardis.html#Plotting-the-data">Plotting the data</a></li>
<li class="toctree-l2"><a class="reference internal" href="converters/arepo_to_tardis.html#Manually-rebinning-the-data">Manually rebinning the data</a></li>
<li class="toctree-l2"><a class="reference internal" href="converters/arepo_to_tardis.html#Selecting-a-specific-region">Selecting a specific region</a></li>
</ul>
</li>
</ul>
</div>
</section>
</section>
<section id="built-in-structure-density-and-abundance">
<h2><a class="toc-backref" href="#id12" role="doc-backlink">Built-in Structure, Density, and Abundance</a><a class="headerlink" href="#built-in-structure-density-and-abundance" title="Link to this heading">¶</a></h2>
<p>TARDIS’s built-in models for structure, density, and abundance are described in the following sections:</p>
<section id="structure">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">Structure</a><a class="headerlink" href="#structure" title="Link to this heading">¶</a></h3>
<p>When using the built-in structure functionality, the code requires two sections (<code class="docutils literal notranslate"><span class="pre">velocities</span></code> and <code class="docutils literal notranslate"><span class="pre">densities</span></code>) and a
parameter <code class="docutils literal notranslate"><span class="pre">no_of_shells</span></code>. <code class="docutils literal notranslate"><span class="pre">no_of_shells</span></code> is the requested number of shells for a model. See
<a class="reference internal" href="../../../../physics_walkthrough/setup/model.html#Shell-Structure"><span class="std std-ref">Shell Structure</span></a> for more information.</p>
<section id="specific-structure">
<span id="specific-structure"></span><h4><a class="toc-backref" href="#id14" role="doc-backlink">Specific Structure</a><a class="headerlink" href="#specific-structure" title="Link to this heading">¶</a></h4>
<p>The following schema shows how to use the built-in structure model and density profiles.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="3"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="4"><p>properties</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>type</p></li>
</ul>
</td>
<td><p>enum</p></td>
<td colspan="2"><p>specific</p></td>
</tr>
<tr class="row-even"><td rowspan="7"><ul class="simple">
<li><p><strong>velocity</strong></p></li>
</ul>
</td>
<td colspan="3"><p>description of the boundaries of the shells</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>start</p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><p>stop</p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>num</p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>number</em></p></td>
</tr>
<tr class="row-even"><td><p>multipleOf</p></td>
<td><p>1.0</p></td>
</tr>
<tr class="row-odd"><td rowspan="4"><ul class="simple">
<li><p><strong>density</strong></p></li>
</ul>
</td>
<td rowspan="4"><p>oneOf</p></td>
<td colspan="2"><p><a class="reference internal" href="#branch85-w7-density"><span class="std std-ref">Branch85_w7 Density</span></a></p></td>
</tr>
<tr class="row-even"><td colspan="2"><p><a class="reference internal" href="#exponential-density"><span class="std std-ref">Exponential Density</span></a></p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p><a class="reference internal" href="#power-law-density"><span class="std std-ref">Power_law Density</span></a></p></td>
</tr>
<tr class="row-even"><td colspan="2"><p><a class="reference internal" href="#uniform-density"><span class="std std-ref">Uniform Density</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>additionalProperties</p></td>
<td colspan="3"><p>False</p></td>
</tr>
</tbody>
</table>
</section>
<p>We present an example of the above schema:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">model</span><span class="p">:</span>
<span class="w">    </span><span class="nt">structure</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">specific</span>
<span class="w">        </span><span class="nt">velocity</span><span class="p">:</span>
<span class="w">            </span><span class="nt">start</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000 km/s</span>
<span class="w">            </span><span class="nt">stop</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2000 km/s</span>
<span class="w">            </span><span class="nt">num</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">15</span>
<span class="w">        </span><span class="nt">density</span><span class="p">:</span>
<span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">branch85_w7</span><span class="w"> </span><span class="c1">#see density schemas below for all options in the density section</span>
</pre></div>
</div>
</section>
<section id="density">
<h3><a class="toc-backref" href="#id15" role="doc-backlink">Density</a><a class="headerlink" href="#density" title="Link to this heading">¶</a></h3>
<p>In the <code class="docutils literal notranslate"><span class="pre">densities</span></code> section of the specific structure, the <code class="docutils literal notranslate"><span class="pre">type</span></code> parameter decides on the parameters.
The physics of these density models is further discussed in <a class="reference internal" href="../../../../physics_walkthrough/setup/model.html"><span class="doc">Model</span></a>.</p>
<section id="branch85-w7-density">
<span id="branch85-w7-density"></span><h4><a class="toc-backref" href="#id16" role="doc-backlink">Branch85_w7 Density</a><a class="headerlink" href="#branch85-w7-density" title="Link to this heading">¶</a></h4>
<p>The type <code class="docutils literal notranslate"><span class="pre">branch85_w7</span></code> uses a seventh-order polynomial fit to the W7 model and is parametrised by time since explosion. The parameters <code class="docutils literal notranslate"><span class="pre">time_0</span></code> and <code class="docutils literal notranslate"><span class="pre">density_coefficient</span></code> are set to sensible defaults and should not be changed.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>type</p></li>
</ul>
</td>
<td><p>enum</p></td>
<td><p>branch85_w7</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p>w7_time_0</p></li>
</ul>
</td>
<td colspan="2"><p>This needs no change - DO NOT TOUCH</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td><p>0.000231481 day</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p>w7_rho_0</p></li>
</ul>
</td>
<td colspan="2"><p>This needs no change - DO NOT TOUCH</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-odd"><td><p>default</p></td>
<td><p>3e29 g/cm^3</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p>w7_v_0</p></li>
</ul>
</td>
<td colspan="2"><p>This needs no change - DO NOT TOUCH</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td><p>1 km/s</p></td>
</tr>
<tr class="row-odd"><td><p>additionalProperties</p></td>
<td colspan="2"><p>False</p></td>
</tr>
</tbody>
</table>
</section>
<p>For example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">model</span><span class="p">:</span>
<span class="w">    </span><span class="nt">structure</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">specific</span>

<span class="w">        </span><span class="nt">density</span><span class="p">:</span>
<span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">branch85_w7</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="../../../../physics_walkthrough/setup/model.html#Branch85-W7-Density"><span class="std std-ref">Branch85 W7 Density</span></a>.</p>
<section id="exponential-density">
<span id="exponential-density"></span><h4><a class="toc-backref" href="#id17" role="doc-backlink">Exponential Density</a><a class="headerlink" href="#exponential-density" title="Link to this heading">¶</a></h4>
<p>This schema shows how to configure an exponential density profile (see the page linked below).</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>type</p></li>
</ul>
</td>
<td><p>enum</p></td>
<td><p>exponential</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p>time_0</p></li>
</ul>
</td>
<td colspan="2"><p>Time at which the pure model densities are right</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p><strong>rho_0</strong></p></li>
</ul>
</td>
<td colspan="2"><p>density at time_0</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p><strong>v_0</strong></p></li>
</ul>
</td>
<td colspan="2"><p>at what velocity the density rho_0 applies</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td><p>additionalProperties</p></td>
<td colspan="2"><p>False</p></td>
</tr>
</tbody>
</table>
</section>
<p>For example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">model</span><span class="p">:</span>
<span class="w">    </span><span class="nt">structure</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">specific</span>

<span class="w">        </span><span class="nt">density</span><span class="p">:</span>
<span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">exponential</span>
<span class="w">            </span><span class="nt">rho_0</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1e-10 g/cm^3</span>
<span class="w">            </span><span class="nt">v_0</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10000 km/s</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="../../../../physics_walkthrough/setup/model.html#Exponential-Density"><span class="std std-ref">Exponential Density</span></a>.</p>
<section id="power-law-density">
<span id="power-law-density"></span><h4><a class="toc-backref" href="#id18" role="doc-backlink">Power_law Density</a><a class="headerlink" href="#power-law-density" title="Link to this heading">¶</a></h4>
<p>This schema shows how to configure a power law density profile (see the page linked below).</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>type</p></li>
</ul>
</td>
<td><p>enum</p></td>
<td><p>power_law</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p>time_0</p></li>
</ul>
</td>
<td colspan="2"><p>Time at which the pure model densities are right</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p><strong>rho_0</strong></p></li>
</ul>
</td>
<td colspan="2"><p>density at time_0</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p><strong>v_0</strong></p></li>
</ul>
</td>
<td colspan="2"><p>at what velocity the density rho_0 applies</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p><strong>exponent</strong></p></li>
</ul>
</td>
<td colspan="2"><p>exponent for exponential density profile</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>number</em></p></td>
</tr>
<tr class="row-even"><td><p>additionalProperties</p></td>
<td colspan="2"><p>False</p></td>
</tr>
</tbody>
</table>
</section>
<p>For example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">model</span><span class="p">:</span>
<span class="w">    </span><span class="nt">structure</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">specific</span>

<span class="w">        </span><span class="nt">density</span><span class="p">:</span>
<span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">power_law</span>
<span class="w">            </span><span class="nt">rho_0</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1e-10 g/cm^3</span>
<span class="w">            </span><span class="nt">v_0</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10000 km/s</span>
<span class="w">            </span><span class="nt">exponent</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="../../../../physics_walkthrough/setup/model.html#Power-Law-Density"><span class="std std-ref">Power Law Density</span></a>.</p>
<section id="uniform-density">
<span id="uniform-density"></span><h4><a class="toc-backref" href="#id19" role="doc-backlink">Uniform Density</a><a class="headerlink" href="#uniform-density" title="Link to this heading">¶</a></h4>
<p>For a uniform density profile, one need only specify a single parameter – the value of the uniform density.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>type</p></li>
</ul>
</td>
<td><p>enum</p></td>
<td><p>uniform</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p>time_0</p></li>
</ul>
</td>
<td colspan="2"><p>Time at which the pure model densities are right</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p><strong>value</strong></p></li>
</ul>
</td>
<td colspan="2"><p>value for uniform density</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td><p>additionalProperties</p></td>
<td colspan="2"><p>False</p></td>
</tr>
</tbody>
</table>
</section>
<p>For example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">model</span><span class="p">:</span>
<span class="w">    </span><span class="nt">structure</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">specific</span>

<span class="w">        </span><span class="nt">density</span><span class="p">:</span>
<span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uniform</span>
<span class="w">            </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1e-10 g/cm^3</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="../../../../physics_walkthrough/setup/model.html#Uniform-Density"><span class="std std-ref">Uniform Density</span></a>.</p>
</section>
<section id="abundance">
<h3><a class="toc-backref" href="#id20" role="doc-backlink">Abundance</a><a class="headerlink" href="#abundance" title="Link to this heading">¶</a></h3>
<p>This section can be used to configure uniform abundances for all shells, by giving the atom or isotope name
and a relative abundance fraction. If it does not add up to 1, TARDIS will warn – but normalize the numbers.</p>
<section id="uniform-abundance">
<span id="uniform-abundance"></span><h4><a class="toc-backref" href="#id21" role="doc-backlink">Uniform Abundance</a><a class="headerlink" href="#uniform-abundance" title="Link to this heading">¶</a></h4>
<p>The following schema shows how to use TARDIS’s built-in uniform abundance configuration.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>type</p></li>
</ul>
</td>
<td><p>enum</p></td>
<td><p>uniform</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p><strong>model_isotope_time_0</strong></p></li>
</ul>
</td>
<td colspan="2"><p>Initial time for isotope decay. If nan is specified then this is set to time_explosion and the isotope abundances are not decayed. If set to a value then the abundances are decayed from model_isotope_time_0 to time_explosion.</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td><p>nan s</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>additionalProperties</p></td>
<td><p>type</p></td>
<td><p><em>number</em></p></td>
</tr>
<tr class="row-even"><td><p>maximum</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>minimum</p></td>
<td><p>0</p></td>
</tr>
</tbody>
</table>
</section>
<p>For example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">model</span><span class="p">:</span>

<span class="w">    </span><span class="nt">abundances</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uniform</span>
<span class="w">        </span><span class="nt">H</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.2</span>
<span class="w">        </span><span class="nt">He</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.4</span>
<span class="w">        </span><span class="nt">O</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.15</span>
<span class="w">        </span><span class="nt">Ni56</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.25</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="../../../../physics_walkthrough/setup/model.html#Abundance"><span class="std std-ref">Abundance</span></a>.</p>
</section>
</section>
<section id="csvy-model">
<span id="csvy-models"></span><h2><a class="toc-backref" href="#id22" role="doc-backlink">CSVY Model</a><a class="headerlink" href="#csvy-model" title="Link to this heading">¶</a></h2>
<p>TARDIS allows users to use a CSVY file to input information about the model. To do this, instead of a
<code class="docutils literal notranslate"><span class="pre">model</span></code> section, one includes <code class="docutils literal notranslate"><span class="pre">csvy_model:</span> <span class="pre">&lt;file</span> <span class="pre">path</span> <span class="pre">to</span> <span class="pre">CSVY</span> <span class="pre">file&gt;</span></code> in the main TARDIS configuration
file.</p>
<p>The CSVY model has a YAML part as well as a CSV part, separated by the YAML delimiter <code class="docutils literal notranslate"><span class="pre">---</span></code>. This means
that each CSVY model file has the following structure: The first line of the file is the YAML delimiter,
followed by the YAML portion of the CSVY model, then another line with just the YAML delimiter,
and finally the CSV portion of the CSVY file. This is shown in the example CSVY file later in this section.</p>
<p>The YAML portion of the CSVY file allows the user to use most of the features of the YAML model configuration,
as shown in the schema below:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="3"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="4"><p>properties</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>name</p></li>
</ul>
</td>
<td colspan="3"><p>name of the model being run</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>string</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p><strong>model_density_time_0</strong></p></li>
</ul>
</td>
<td colspan="3"><p>Initial time for the density in the model</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>quantity</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p><strong>model_isotope_time_0</strong></p></li>
</ul>
</td>
<td colspan="3"><p>Initial time for isotope decay. Set to 0 for no isotopes.</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>quantity</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>description</p></li>
</ul>
</td>
<td colspan="3"><p>description of the model being run</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>string</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p><strong>tardis_model_config_version</strong></p></li>
</ul>
</td>
<td colspan="3"><p>Version of the configuration file</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>string</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="5"><ul class="simple">
<li><p>datatype</p></li>
</ul>
</td>
<td colspan="3"><p>fields found in csv part of csvy file</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-odd"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><p>fields</p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>array</em></p></td>
</tr>
<tr class="row-odd"><td><p>additionalProperties</p></td>
<td colspan="2"><p>False</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p>v_inner_boundary</p></li>
</ul>
</td>
<td colspan="3"><p>velocity of the inner boundary</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p>v_outer_boundary</p></li>
</ul>
</td>
<td colspan="3"><p>velocity of the outer boundary of the last shell</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td rowspan="6"><ul class="simple">
<li><p>velocity</p></li>
</ul>
</td>
<td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-odd"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><p>start</p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>stop</p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p>num</p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>number</em></p></td>
</tr>
<tr class="row-odd"><td><p>multipleOf</p></td>
<td><p>1.0</p></td>
</tr>
<tr class="row-even"><td rowspan="4"><ul class="simple">
<li><p>density</p></li>
</ul>
</td>
<td rowspan="4"><p>oneOf</p></td>
<td colspan="2"><p><a class="reference internal" href="#branch85-w7-density"><span class="std std-ref">Branch85_w7 Density</span></a></p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p><a class="reference internal" href="#exponential-density"><span class="std std-ref">Exponential Density</span></a></p></td>
</tr>
<tr class="row-even"><td colspan="2"><p><a class="reference internal" href="#power-law-density"><span class="std std-ref">Power_law Density</span></a></p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p><a class="reference internal" href="#uniform-density"><span class="std std-ref">Uniform Density</span></a></p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><p>abundance</p></li>
</ul>
</td>
<td colspan="3"><p><a class="reference internal" href="#uniform-abundance"><span class="std std-ref">Uniform Abundance</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>additionalProperties</p></td>
<td colspan="3"><p>False</p></td>
</tr>
</tbody>
</table>
<p>The CSV part of the CSVY file creates a table that can include information about shell velocities, densities,
and abundances in each cell. The column headers (the first row of the CSV part) may contain <code class="docutils literal notranslate"><span class="pre">velocity</span></code>,
<code class="docutils literal notranslate"><span class="pre">density</span></code>, <code class="docutils literal notranslate"><span class="pre">t_rad</span></code>, <code class="docutils literal notranslate"><span class="pre">dilution_factor</span></code>, or the name of any element or isotope (e.g. <code class="docutils literal notranslate"><span class="pre">H</span></code>, <code class="docutils literal notranslate"><span class="pre">Mg</span></code>,
<code class="docutils literal notranslate"><span class="pre">Ni56</span></code>). These columns are explained in the following example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>---
name: csvy_full
model_density_time_0: 1 day
model_isotope_time_0: 0 day
description: Example csvy config file for TARDIS.
tardis_model_config_version: v1.0
datatype:
  fields:
    -  name: velocity
       unit: km/s
       desc: velocities of shell outer boundaries.
    -  name: density
       unit: g/cm^3
       desc: density of shell.
    -  name: t_rad
       unit: K
       desc: radiative temperature.
    -  name: dilution_factor
       desc: dilution factor of shell.
    -  name: H
       desc: fractional H abundance.
    -  name: He
       desc: fractional He abundance.
    -  name: Ni56
       desc: fractional Ni56 abundance.

---
velocity,density,t_rad,dilution_factor,H,He,Ni56
9000, 5e-10, 7000, .9, 1.0, 1.0, 1.0
10500, 2.0e-10, 7000, .8, 0.0, 0.99, 0.01
12000, 9e-11, 7000, .1, 0.4, 0.58, 0.02
</pre></div>
</div>
<p>Notice that for each column that is used in the CSV section of the file, there is a corresponding field under
<code class="docutils literal notranslate"><span class="pre">datatype</span></code> in the YAML section of the file. In our example, each of the fields under <code class="docutils literal notranslate"><span class="pre">datatype</span></code> has a brief
description to go along with it. While the description is not necessary for any of the fields, the unit section
is required for <code class="docutils literal notranslate"><span class="pre">velocity</span></code>, <code class="docutils literal notranslate"><span class="pre">density</span></code>, and <code class="docutils literal notranslate"><span class="pre">t_rad</span></code>.</p>
<p>Since the <code class="docutils literal notranslate"><span class="pre">velocity</span></code> column contains the outer shell velocity, the first entry in the velocity column is the
velocity of the photosphere – i.e. the inner boundary of the computational domain (see <a class="reference internal" href="../../../../physics_walkthrough/setup/model.html"><span class="doc">Model</span></a>).
Consequently, <strong>none of the other information in the first row is used</strong>. In our example, there are only two
shells, and the first shell will have an inner boundary with a velocity of <span class="math notranslate nohighlight">\(9000 \mathrm{ km/s}\)</span>, an outer boundary
with a velocity of <span class="math notranslate nohighlight">\(10500 \mathrm{ km/s}\)</span>, a density of <span class="math notranslate nohighlight">\(2.0*10^{-10} \mathrm{ g/cm^3}\)</span>, a dilution
factor of .8, etc.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>None of the CSV columns are required. However, if <code class="docutils literal notranslate"><span class="pre">velocity</span></code>, <code class="docutils literal notranslate"><span class="pre">density</span></code>, or the abundances are missing,
they must be specified in the YAML portion of the file. If <code class="docutils literal notranslate"><span class="pre">t_rad</span></code> or <code class="docutils literal notranslate"><span class="pre">dilution_factor</span></code> are missing,
they will be automatically calculated (see <a class="reference internal" href="../../../../physics_walkthrough/setup/model.html"><span class="doc">Model</span></a>).</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">t_rad</span></code> and <code class="docutils literal notranslate"><span class="pre">dilution_factor</span></code> are the values of the temperature and dilution factor for the first
iteration, and will be updated in subsequent iterations (see <a class="reference internal" href="../../../../physics_walkthrough/update_and_conv/update_and_conv.html"><span class="doc">Updating Plasma and Convergence</span></a>).
To prevent these quantities from being changed, you must set the damping constant to zero in the <a class="reference internal" href="../montecarlo.html#damped-config"><span class="std std-ref">Damped Convergence
Configuration</span></a> in the Monte Carlo section of the configuration file.</p>
</div>
<section id="csvy-model-tutorial">
<h3><a class="toc-backref" href="#id23" role="doc-backlink">CSVY Model Tutorial</a><a class="headerlink" href="#csvy-model-tutorial" title="Link to this heading">¶</a></h3>
<p>Coming soon!</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../plasma.html" class="btn btn-neutral float-left" title="Plasma Configuration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="densitycust/densitycust.html" class="btn btn-neutral float-right" title="Using a custom density profile" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2013-2025, TARDIS Collaboration.
      <span class="lastupdated">Last updated on 06 Oct 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>